#include "include/operations.hpp"
#include <cassert>
#include <iostream>


#ifdef TEST
int main() {
    // std::vector<int> stack = {1, 2, 3};
    // auto test1 = compile("1 + 1 + 1 + 1 + 1 + 1 + 1 + ");
    // // test1 = optimize(test1);
    // auto sixs = test1 | test1 | compile("6");
    // sixs = sixs | compile("dup");
    // std::cout << comb_to_string(sixs) << std::endl;
    // sixs = optimize(sixs);
    // std::cout << comb_to_string(sixs) << std::endl;
    // // for (auto i: sixs->apply(stack)) {
    // //     std::cout << i << " ";
    // // }
    // // std::cout << std::endl;
    // // assert(sixs->apply(stack) == std::vector<int>({1, 2, 3, 6, 6, 6, 6}));

    // // auto test2 = compile("-");
    // // assert(test2->apply(stack) == std::vector<int>({1, -1}));

    return 0;
}
#endif